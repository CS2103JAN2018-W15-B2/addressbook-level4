<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<title>Chew Xing Kai - Project Portfolio</title>
<link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Chew Xing Kai - Project Portfolio</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="project-integrated-medical-database-imdb"><a class="link" href="#project-integrated-medical-database-imdb">PROJECT: Integrated Medical DataBase (IMDB)</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Integrated Medical DataBase (IMDB) is a desktop application used by clinics for managing health records digitally.
Doctors can use it to check for a patient&#8217;s health profile, and medical staff can use it to manage queues and patient appointments.
The user interacts with it using a Command Line Interface, and it has a Graphical User Interface created with JavaFX.
It is written in Java, and has about 10 kLoC.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: Added the <strong>login command</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>What it does: Opens a window that allows users to log into IMDB. Some commands can only be executed when logged in as a particular user role.</p>
</li>
<li>
<p>Justification: Adds a layer of security, protecting sensitive information of patients from users without security clearance.</p>
</li>
<li>
<p>Highlights: Implementing this command was challenging as it involved handling data input from another window, using a static class LoginManager to authenticate and store login information.
This feature can also be extended in the future by adding additional user roles such as administrator.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>: Added the <strong>print command</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>What it does: Prints a selected user&#8217;s medical records as a pdf file.</p>
</li>
<li>
<p>Justification: Can be used by doctors to explain a patient&#8217;s medical condition.</p>
</li>
<li>
<p>Highlights: This command can be extended to include graphical information like x-ray images.</p>
</li>
<li>
<p>Credits: iText 5 was used to create the pdf file.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Code contributed</strong>: [<a href="https://github.com/CS2103JAN2018-W15-B2/main/blob/master/collated/functional/cxingkai.md">Collated code</a>]</p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>Reported bugs for other teams in the class</p>
</li>
</ul>
</div>
</li>
<li>
<p>Tools:</p>
<div class="ulist">
<ul>
<li>
<p>Integrated a third party library (iText) to the project [<a href="https://github.com/CS2103JAN2018-W15-B2/main/pull/146">#146</a>]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="logging-into-the-system-code-login-code-since-v1-2"><a class="link" href="#logging-into-the-system-code-login-code-since-v1-2">Logging into the system: <code>login</code> [since v1.2]</a></h4>
<div class="paragraph">
<p>Opens a window for the user to log into the IMDB with a matching username and password as shown in Figure 4 below.<br>
There are two placeholder accounts currently in the IMDB. There is alice, who is a doctor, and bob, who is a medical staff member. Some commands are restricted based on which role the user is logged into.<br>
Format: <code>login</code></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/login_window.PNG" alt="login window" width="990">
</div>
<div class="title">Figure 4: Login window</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>login</code><br>
Username: alice<br>
Password: password123<br>
Logs the user in as alice, who is a doctor as shown in Figure 5 below.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/login_window_doctor.PNG" alt="login window doctor" width="990">
</div>
<div class="title">Figure 5: IMDB main window (logged in as alice)</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>login</code><br>
Username: bob<br>
Password: password456<br>
Logs the user in as bob, who is a medical staff as shown in Figure 6 below.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="logout-code-logout-code"><a class="link" href="#logout-code-logout-code">Logout : <code>logout</code></a></h4>
<div class="paragraph">
<p>Logs the user out of the IMDB.<br>
Format: <code>logout</code></p>
</div>
</div>
<div class="sect3">
<h4 id="printing-a-patient-s-formatted-medical-records-code-print-code-since-v1-4"><a class="link" href="#printing-a-patient-s-formatted-medical-records-code-print-code-since-v1-4">Printing a patient&#8217;s formatted medical records : <code>print</code> [since v1.4]</a></h4>
<div class="paragraph">
<p>Formats and prints a patient&#8217;s medical records into a pdf file. This pdf file is located in the same directory as the IMDB application.<br>
Format: <code>print INDEX</code></p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
This command is only accessible to doctors.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/print_window.PNG" alt="print window" width="990">
</div>
<div class="title">Figure 8: PDF file in the directory</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="feature-implementation"><a class="link" href="#feature-implementation">Feature Implementation</a></h3>

</div>
<div class="sect2">
<h3 id="login-system-feature"><a class="link" href="#login-system-feature">Login system feature</a></h3>
<div class="sect3">
<h4 id="current-implementation"><a class="link" href="#current-implementation">Current Implementation</a></h4>
<div class="paragraph">
<p>The action of logging into IMDB is facilitated by <code>LoginCommand</code> and the static class <code>LoginManager</code>, which also contains a static attribute of class <code>LoginState</code>.</p>
</div>
<div class="paragraph">
<p>The static class <code>LoginManager</code> is implemented by a final class as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">final</span> <span class="type">class</span> <span class="class">LoginManager</span> {
    <span class="directive">private</span> <span class="directive">static</span> LoginState currLoginState = <span class="keyword">new</span> LoginState(NO_USER_STATE, NO_USER_STRING);
    <span class="directive">private</span> <span class="directive">static</span> <span class="predefined-type">String</span> passwordPath = <span class="string"><span class="delimiter">&quot;</span><span class="content">/data/passwords.csv</span><span class="delimiter">&quot;</span></span>;

    <span class="directive">private</span> LoginManager() {
            currLoginState = <span class="keyword">new</span> LoginState(NO_USER_STATE, NO_USER_STRING);
    }

    <span class="directive">public</span> <span class="directive">static</span> <span class="type">boolean</span> authenticate (<span class="predefined-type">String</span> username, <span class="predefined-type">String</span> password) {
        <span class="comment">// Check if username and password match and are in the passwords list and updates currLoginState</span>
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>LoginCommand</code> takes in username and password input from the user, then calls the static class <code>LoginManager</code> to authenticate the given username and password, meaning that it will check through a csv file of correct usernames and passwords. If the given username and password are found in that file, then the value stored in <code>LoginState</code> will be changed to reflect the role of the user who logged in (doctor or medical staff).</p>
</div>
<div class="paragraph">
<p>If <code>LoginState</code> shows that no user is currently logged in, certain commands that access the database such as <code>AddCommand</code> and <code>ListCommand</code> will throw an exception telling the user to log in. Once logged in, the user can perform those commands.</p>
</div>
<div class="paragraph">
<p>There is no need for a logout command, since <code>ExitCommand</code> can be used to exit the application, and when the application is opened again, <code>LoginState</code> will be reset.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="paragraph">
<p>The following is an exploration of possible alternative implementations, the various aspects of
each implementation and the pros and cons of each implementation:</p>
</div>
<div class="sect4">
<h5 id="aspect-implementation-of-code-loginstate-code"><a class="link" href="#aspect-implementation-of-code-loginstate-code">Aspect: Implementation of <code>LoginState</code></a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Use a static <code>LoginManager</code> class with a static <code>LoginState</code> attribute</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Will allow the methods of <code>LoginManager</code> can be called anywhere, and its stored <code>LoginState</code> attribute will not be changed except through the authenticate method.</p>
</li>
<li>
<p>Cons: Must implement the class as a final class with a private constructor, since Java does not support public static classes.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Store a login state in LoginCommand</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Can store login state as an int instead of an object instance.</p>
</li>
<li>
<p>Cons: Will require a method in LoginCommand to update login state and verify username and password. Violates Single Responsibility Principle and Separation of Concerns as <code>LoginCommand</code> now needs to do two different things. Also, there is a need to somehow pass the login state to IMDBParser.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="print-medical-records"><a class="link" href="#print-medical-records">Print Medical Records</a></h3>
<div class="sect3">
<h4 id="current-implementation-2"><a class="link" href="#current-implementation-2">Current Implementation</a></h4>
<div class="paragraph">
<p>When <code>PrintCommand</code> is called, an instance of <code>PrintFormatter</code> is created, and a reference to the target <code>Patient</code> is passed to it.</p>
</div>
<div class="paragraph">
<p><code>PrintFormatter</code> retrieves medical records and other information of the <code>Patient</code>, then uses iText (an external library) to format and print the records on a PDF.</p>
</div>
<div class="paragraph">
<p>After the PDF is created, <code>PrintFormatter</code> will try to use an existing application to open it. If that fails, an exception is thrown.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h4>
<div class="paragraph">
<p>The following is an exploration of possible alternative implementations, the various aspects of
each implementation and the pros and cons of each implementation:</p>
</div>
<div class="sect4">
<h5 id="aspect-file-format-of-printed-document"><a class="link" href="#aspect-file-format-of-printed-document">Aspect: File format of printed document</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Print records onto a PDF</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Will result in PDF files that are compatible across multiple platform. Also, PDFs cannot be altered without leaving an electronic footprint, so they are secure, which is important when there is confidential patient data.</p>
</li>
<li>
<p>Cons: Will result in difficulty in writing to a pdf with basic Java methods, so an external library will have to be used.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Print records onto a txt file</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Will be easy to implement using basic Java methods.</p>
</li>
<li>
<p>Cons: Will result in a visually unappealing document. Also, txt files do not support pictures, which might be needed in the future (e.g. for X-ray photos).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="use-cases"><a class="link" href="#use-cases">Use Cases</a></h3>
<h3 id="use-case-login-to-access-imdb" class="discrete">Use case: Login to access IMDB</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User inputs login command word</p>
</li>
<li>
<p>IMDB displays login screen</p>
</li>
<li>
<p>User inputs username and password</p>
</li>
<li>
<p>IMDB shows a success message</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. User is already logged in</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1a1. IMDB shows an error message</p>
</li>
<li>
<p>1a2. User enters exit command and restarts IMDB</p>
<div class="paragraph">
<p>Use case resumes at step 1</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>3a. Username and password do not match</p>
<div class="ulist none">
<ul class="none">
<li>
<p>3a1. IMDB shows an error message</p>
</li>
<li>
<p>3a2. User inputs username and password</p>
</li>
<li>
<p>Steps 3a1-3a2 are repeated until username and password match</p>
<div class="paragraph">
<p>Use case resumes at step 4</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="instructions-for-manual-testing"><a class="link" href="#instructions-for-manual-testing">Instructions for Manual Testing</a></h3>

</div>
<div class="sect2">
<h3 id="login"><a class="link" href="#login">Login</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Logging into IMDB as a doctor</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Type <code>login</code></p>
</li>
<li>
<p>A login window will be opened. In that window, type "alice" for the username field and "password123" for the password field.<br>
Expected: IMDB shows successful login message, and all commands for doctor can be executed.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Logging into IMDB as a medical staff</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Type <code>login</code></p>
</li>
<li>
<p>A login window will be opened. In that window, type "bob" for the username field and "password456" for the password field.<br>
Expected: IMDB shows successful login message, and all commands for doctor can be executed.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="print"><a class="link" href="#print">Print</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Printing a patient&#8217;s medical records while all patients are listed.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: List all patients using the <code>list</code> command, multiple patients in the list, first patient has some records.</p>
</li>
<li>
<p>Type <code>print 1</code><br>
Expected: Medical records of first patient in the list is printed into a PDF, which is opened by a PDF-reading program.</p>
</li>
<li>
<p>Type <code>print 0</code><br>
Expected: Nothing is printed. Error details shown in the status message.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-04-15 14:38:10 UTC
</div>
</div>
</body>
</html>